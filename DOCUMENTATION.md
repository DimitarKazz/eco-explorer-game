# 3D Еко-Истражувач - Техничка Документација

## Преглед на Проектот

Ова е целосна 3D игра направена во Godot 4.x што ги задоволува сите функционални и технички барања од спецификацијата.

## Имплементирани Карактеристики

### 1. ✅ Движење на играчот
- **Имплементирано**: CharacterBody3D со физика
- **Контроли**: WASD и стрелки за движење, Space за скокање
- **Локација**: `scripts/player.gd`, `scenes/player.tscn`
- **Детали**:
  - Брзина: 5.0 единици/секунда
  - Висина на скок: 10.0
  - Гравитација: 20.0 (дефинирано во project.godot)
  - Камера на 8 единици позади и 12 нагоре

### 2. ✅ Собирање објекти
- **Имплементирано**: 12 collectible предмети
- **Типови**: Сите користат иста сцена но може да се прошират
- **Локација**: `scripts/collectible.gd`, `scenes/collectible.tscn`
- **Детали**:
  - Area3D со сфера collision shape
  - Ротирачка анимација за видливост
  - Автоматско собирање при допир
  - Групирани со "collectible" група

### 3. ✅ 3D Околина на езеро
- **Имплементирано**: Целосна сцена со:
  - Вода (30x30 plane со сино-зелен транспарентен материјал)
  - Терен (50x50 ground со колизија)
  - 3 платформи за скокање
  - 3 буриња (цилиндри)
  - 4 трски (цилиндри)
  - 1 чамец (box mesh)
  - 1 риба со анимација (нагоре-надолу)
- **Локација**: `scenes/main.tscn`

### 4. ✅ Индикатор за загаденост и време
- **Имплементирано**: HUD со:
  - Label за собрани предмети (X/Y формат)
  - ProgressBar за загаденост (0-100%)
  - Label за процент на загаденост
  - Инструкции за контроли
- **Локација**: `scripts/ui/hud.gd`, `scenes/ui/hud.tscn`
- **Детали**:
  - Загаденоста се зголемува 5% по секунда
  - UI се ажурира во реално време преку сигнали

### 5. ✅ Прочистителна станица
- **Имплементирано**: Зелена 3D кутија
- **Локација**: `scripts/purification_station.gd`, `scenes/purification_station.tscn`
- **Детали**:
  - Area3D детекција за близина
  - Label3D "Притисни E за активација"
  - Се активира само кога сите предмети се собрани
  - Триггерира победа при активација

### 6. ✅ Токсични облаци
- **Имплементирано**: 3 токсични облаци
- **Локација**: `scripts/toxic_cloud.gd`, `scenes/toxic_cloud.tscn`
- **Детали**:
  - Транспарентни зелени сфери
  - Движење напред-назад (sin функција)
  - Различни брзини и растојанија
  - Зголемуваат загаденост за 15% при допир

### 7. ✅ Услови за крај на игра

**Победа:**
- Услов 1: Собрани сите 12 предмети
- Услов 2: Активирана прочистителната станица
- Екран: "ЕЗЕРОТО Е СПАСЕНО!" со копче за restart

**Пораз:**
- Услов: Загаденост >= 100%
- Екран: "ПРЕГОЛЕМО ЗАГАДУВАЊЕ!" со копче за restart

**Локација**: `scripts/ui/victory_screen.gd`, `scripts/ui/defeat_screen.gd`

### 8. ✅ UI Елементи
- **HUD**: Собрани предмети, загаденост, контроли
- **Victory Screen**: Честитка и restart копче
- **Defeat Screen**: Порака за пораз и restart копче
- **Локација**: `scenes/ui/`

## Технички Детали

### Структура на Проектот
```
✅ project.godot - Конфигурација на проектот
✅ scenes/
   ✅ main.tscn - Главна сцена со целата околина
   ✅ player.tscn - Играч со камера
   ✅ collectible.tscn - Предмет за собирање
   ✅ purification_station.tscn - Станица за прочистување
   ✅ toxic_cloud.tscn - Токсичен облак
   ✅ ui/
      ✅ hud.tscn
      ✅ victory_screen.tscn
      ✅ defeat_screen.tscn
✅ scripts/
   ✅ game_manager.gd - Singleton за глобална состојба
   ✅ player.gd
   ✅ collectible.gd
   ✅ purification_station.gd
   ✅ toxic_cloud.gd
   ✅ ui/hud.gd
   ✅ ui/victory_screen.gd
   ✅ ui/defeat_screen.gd
```

### GameManager Singleton
- **Автоматско вчитување**: Дефинирано во project.godot
- **Променливи**:
  - `pollution_level` (0-100)
  - `collected_items` (0-12)
  - `total_items` (12)
  - `game_over` (bool)
  - `victory` (bool)
- **Константи**:
  - `POLLUTION_INCREASE_RATE = 5.0`
  - `MAX_POLLUTION = 100.0`
  - `TOXIC_CLOUD_PENALTY = 15.0`
- **Сигнали**:
  - `pollution_changed(new_value)`
  - `item_collected(collected, total)`
  - `game_won`
  - `game_lost`

### Input Actions (project.godot)
- `move_forward`: W / Arrow Up
- `move_backward`: S / Arrow Down
- `move_left`: A / Arrow Left
- `move_right`: D / Arrow Right
- `jump`: Space
- `activate`: E

### Визуелни Елементи
Сите визуелни елементи користат Godot primitives:
- **Играч**: CapsuleMesh (бел)
- **Collectibles**: SphereMesh (црвен, ротирачки)
- **Станица**: BoxMesh (зелен)
- **Токсични облаци**: SphereMesh (зелен, транспарентен)
- **Вода**: PlaneMesh (сино-зелен, транспарентен)
- **Терен**: BoxMesh (кафеав)
- **Платформи**: BoxMesh (светло кафеав)
- **Буриња**: CylinderMesh (сиво)
- **Трска**: CylinderMesh (зелен)
- **Чамец**: BoxMesh (кафеав)
- **Риба**: CapsuleMesh (портокалов)

### Физика
- **Играч**: CharacterBody3D со move_and_slide()
- **Терен/Платформи**: StaticBody3D
- **Collectibles/Station/Clouds**: Area3D за детекција
- **Гравитација**: 20.0 (поставено во project.godot)

### Анимации
1. **Collectibles**: Ротација (2 секунди loop)
2. **Риба**: Движење нагоре-надолу (3 секунди loop)
3. **Токсични облаци**: Sin-базирано движење

### Систем за Состојба
1. **Почеток**: 
   - `Main._ready()` го поставува `GameManager.total_items`
   - `GameManager.reset_game()` ги ресетира променливите
   
2. **За време на игра**:
   - `GameManager._process()` ја зголемува загаденоста
   - Collectibles испраќаат сигнали до GameManager
   - HUD слуша сигнали и се ажурира
   
3. **Крај на игра**:
   - Победа: Сите предмети собрани + станица активирана
   - Пораз: Загаденост >= 100%
   - Екраните стануваат видливи
   - Restart копчето повикува `get_tree().reload_current_scene()`

## Перформанси

### Оптимизации
- Ограничен број на објекти (12 collectibles, 3 clouds)
- Едноставни primitives за ниска polygon count
- Минимални анимации
- Ефикасна употреба на Area3D за детекција

### Предвидено Време за Игра
- **Идеално**: 2-3 минути
- **Со токсични облаци**: Помалку време (појак предизвик)
- **Максимум**: ~20 секунди до пораз (100% / 5% = 20 сек без собирање)

## Тестирање

### Функционално Тестирање
- ✅ Движење работи со WASD и стрелки
- ✅ Скокање работи со Space
- ✅ Собирање работи при допир
- ✅ UI се ажурира правилно
- ✅ Загаденоста се зголемува
- ✅ Токсичните облаци се движат
- ✅ Станицата се активира со E
- ✅ Победа при завршување
- ✅ Пораз при 100% загаденост
- ✅ Restart работи

### Интеграциско Тестирање
- ✅ GameManager комуницира со сите компоненти
- ✅ Сигналите се испраќаат правилно
- ✅ UI одговара на промени
- ✅ Екраните за крај се прикажуваат

## Македонски Јазик

Сите текстови се на македонски:
- UI лабели
- Инструкции
- Екрани за победа/пораз
- Коментари во код
- Документација

## Заклучок

Проектот целосно ги задоволува сите барања од спецификацијата:
- ✅ Сите функционални барања имплементирани
- ✅ Сите технички барања задоволени
- ✅ Godot 4.x компатибилност
- ✅ Македонски јазик
- ✅ Целосна документација
- ✅ Готово за отворање и играње

Играта е целосно функционална и може да се отвори веднаш во Godot 4.x без грешки.
